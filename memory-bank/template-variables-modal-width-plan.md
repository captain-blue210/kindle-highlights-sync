# Template Variablesモーダル幅拡張計画

## 1. 目的

Template Variablesの表の視認性向上を目的として、当該データが表示されるモーダルウィンドウのデフォルト幅を拡張する。

## 2. 現状の把握と課題

*   ユーザーは、Template Variablesモーダル内の表の視認性を向上させたい。
*   現在のモーダル幅は、`src/settings.ts`の`TemplateVariablesModal`クラス内で`this.modalEl2.style.width = "90%"` と設定されている。
*   この設定では、変数名や値が長い場合に内容が折り返されたり隠れたりして一覧性が損なわれるため、主要なカラム情報が一目で把握でき、水平スクロールを最小限に抑える幅への調整が必要。
*   レスポンシブデザインを維持し、異なる画面サイズでもモーダルがビューポート内に適切に収まるように配慮する必要がある。

## 3. 変更案

モーダルの幅を、ビューポートの幅に応じて調整しつつ、一定以上の幅を確保できるように変更する。具体的には、CSSの`min()`関数を利用して、ビューポート幅の95%と固定値1400pxの小さい方を採用する形にする。これにより、大きな画面では十分な幅を確保し、小さな画面ではビューポート内に収まるようになる。

## 4. 変更箇所

*   ファイル: `src/settings.ts`
*   クラス: `TemplateVariablesModal`
*   メソッド: `onOpen`
*   行: `353` (現在のコードに基づくおおよその行)

## 5. 具体的な変更内容

`src/settings.ts`の該当行を以下のように変更する。

*   **変更前:**
    ```typescript
    this.modalEl2.style.width = "90%";
    ```
*   **変更後:**
    ```typescript
    this.modalEl2.style.width = "min(95%, 1400px)";
    ```

## 6. 期待される効果

*   画面幅が広い環境では、モーダルが最大1400pxまで広がり、Template Variablesの表の視認性が向上する。
*   画面幅が狭い環境では、モーダル幅がビューポートの95%に制限され、表示が崩れるのを防ぐ。
*   水平スクロールの必要性が低減され、情報の一覧性が向上する。

## 7. Mermaid図 (計画フロー)

```mermaid
graph TD
    A[ユーザーリクエスト: モーダル幅拡張] --> B{関連コード特定: src/settings.ts};
    B --> C{TemplateVariablesModalクラスとスタイル設定箇所を発見};
    C --> D{変更案立案: widthを "min(95%, 1400px)" に};
    D --> E{ユーザーへ計画提示};
    E -- 承認 --> F{実装モードへ移行};
    F --> G{コード変更実施};
    G --> H{ユーザーによる動作確認};
